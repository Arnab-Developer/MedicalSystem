on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]
    
pool:
  vmImage: 'windows-latest'
  
variables:
  buildConfiguration: 'Release'

steps:
- task: DotNetCoreCLI@2
  displayName: Build
  inputs:
    command: build
    projects: 'CandidateAuthentication.sln'
    arguments: '--configuration $(buildConfiguration)'
    
- task: DotNetCoreCLI@2
  displayName: Test
  inputs:
    command: test
    projects: 'CandidateAuthentication.sln'
    arguments: '--configuration $(buildConfiguration) --collect "Code coverage"'